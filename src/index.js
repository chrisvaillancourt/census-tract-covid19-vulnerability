require([
  'esri/Map',
  'esri/views/MapView',
  'esri/layers/VectorTileLayer',
  'esri/Basemap',
  'esri/layers/FeatureLayer',
], function (Map, MapView, VectorTileLayer, Basemap, FeatureLayer) {
  // var tileLayer = new VectorTileLayer({
  //   url:
  //     'https://jsapi.maps.arcgis.com/sharing/rest/content/items/75f4dfdff19e445395653121a95a85db/resources/styles/root.json',
  // });
  const vectorBaseLayer = new VectorTileLayer({
    url: `https://www.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json`,
  });
  const vectorBaseReference = new VectorTileLayer({
    url: `https://www.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json`,
    opacity: 0.7,
  });
  const basemap = new Basemap({
    baseLayers: [vectorBaseLayer],
    referenceLayers: [vectorBaseReference],
  });

  const featureLayer = new FeatureLayer({
    url:
      'https://services7.arcgis.com/Fnhc04BJL93uqCjd/arcgis/rest/services/COVID19_Vulnerability/FeatureServer/0?token=Uu6OGF_NCuNWaACDSfH11R_iEdPfP_-Dc3RpRwXbiyW4Oye_4_Ulgr2U-SJ96YJRm5t_6lYvJ2yinHuHzwpd3y_l3J_gNv6zWeFxFX_MWXm89hu-qD5Esp6zRN5-koB4w395vPWIsZUzXO-a2Sqqp5ogWSIyBKuud3_I7oyfQBtOp6HFTjED2nploRXhlh6p7pJacM5NOR0Hwi3z0PKxFH_JdAm5ccQjnZJ4XhIfixoRPiomjv0o3Ud2KJyCk-H4BFkXFIj7AROp-KeGq8asRQ..',
  });
  const map = new Map({
    basemap,
    layers: [featureLayer],
  });
  const view = new MapView({
    container: 'viewDiv',
    map,
    center: [-98.5795, 39.8282],
    zoom: 3,
  });
});
